package io.metadata.download.conference;

import io.metadata.MetaDataFactory;
import io.metadata.Website;
import io.metadata.misc.Globals;
import io.metadata.misc.Logger;
import io.metadata.orm.MyMongoCollection;
import io.metadata.orm.Paper;

import java.io.IOException;

/**
 * Crawler for Technologies for Digigtal Storytelling and Entertainment.
 * @author Zhengxing Chen
 *
 */
public class TIDSE {

    public static String[] dois = {
        "10.1007/978-3-540-27797-2_4",
        "10.1007/978-3-540-27797-2_8",
        "10.1007/978-3-540-27797-2_5",
        "10.1007/978-3-540-27797-2_7",
        "10.1007/978-3-540-27797-2_3",
        "10.1007/978-3-540-27797-2_9",
        "10.1007/978-3-540-27797-2_11",
        "10.1007/978-3-540-27797-2_12",
        "10.1007/978-3-540-27797-2_13",
        "10.1007/978-3-540-27797-2_14",
        "10.1007/978-3-540-27797-2_15",
        "10.1007/978-3-540-27797-2_16",
        "10.1007/978-3-540-27797-2_17",
        "10.1007/978-3-540-27797-2_18",
        "10.1007/978-3-540-27797-2_19",
        "10.1007/978-3-540-27797-2_2",
        "10.1007/978-3-540-27797-2_6",
        "10.1007/978-3-540-27797-2_20",
        "10.1007/978-3-540-27797-2_1",
        "10.1007/978-3-540-27797-2_10",
        "10.1007/978-3-540-27797-2_4",
        "10.1007/978-3-540-27797-2_8",
        "10.1007/978-3-540-27797-2_7",
        "10.1007/978-3-540-27797-2_5",
        "10.1007/978-3-540-27797-2_3",
        "10.1007/978-3-540-27797-2_9",
        "10.1007/978-3-540-27797-2_16",
        "10.1007/978-3-540-27797-2_17",
        "10.1007/978-3-540-27797-2_18",
        "10.1007/978-3-540-27797-2_14",
        "10.1007/978-3-540-27797-2_12",
        "10.1007/978-3-540-27797-2_13",
        "10.1007/978-3-540-27797-2_19",
        "10.1007/978-3-540-27797-2_6",
        "10.1007/978-3-540-27797-2_2",
        "10.1007/978-3-540-27797-2_1",
        "10.1007/978-3-540-27797-2_20",
        "10.1007/978-3-540-27797-2_10",
        "10.1007/978-3-540-27797-2_11",
        "10.1007/978-3-540-27797-2_15",
        "10.1007/978-3-540-27797-2_26",
        "10.1007/978-3-540-27797-2_23",
        "10.1007/978-3-540-27797-2_40",
        "10.1007/978-3-540-27797-2_21",
        "10.1007/978-3-540-27797-2_25",
        "10.1007/978-3-540-27797-2_22",
        "10.1007/978-3-540-27797-2_39",
        "10.1007/978-3-540-27797-2_24",
        "10.1007/978-3-540-27797-2_37",
        "10.1007/978-3-540-27797-2_30",
        "10.1007/978-3-540-27797-2_32",
        "10.1007/978-3-540-27797-2_29",
        "10.1007/978-3-540-27797-2_27",
        "10.1007/978-3-540-27797-2_33",
        "10.1007/978-3-540-27797-2_28",
        "10.1007/978-3-540-27797-2_34",
        "10.1007/978-3-540-27797-2_31",
        "10.1007/978-3-540-27797-2_36",
        "10.1007/978-3-540-27797-2_35",
        "10.1007/978-3-540-27797-2_38",
        "10.1007/978-3-540-27797-2_26",
        "10.1007/978-3-540-27797-2_23",
        "10.1007/978-3-540-27797-2_40",
        "10.1007/978-3-540-27797-2_21",
        "10.1007/978-3-540-27797-2_25",
        "10.1007/978-3-540-27797-2_22",
        "10.1007/978-3-540-27797-2_39",
        "10.1007/978-3-540-27797-2_30",
        "10.1007/978-3-540-27797-2_37",
        "10.1007/978-3-540-27797-2_32",
        "10.1007/978-3-540-27797-2_27",
        "10.1007/978-3-540-27797-2_29",
        "10.1007/978-3-540-27797-2_24",
        "10.1007/978-3-540-27797-2_33",
        "10.1007/978-3-540-27797-2_28",
        "10.1007/978-3-540-27797-2_34",
        "10.1007/978-3-540-27797-2_41",
        "10.1007/978-3-540-27797-2_31",
        "10.1007/978-3-540-27797-2_35",
        "10.1007/978-3-540-27797-2_36",
        "10.1007/978-3-540-27797-2_38",
        "10.1007/978-3-540-27797-2_41",
        "10.1007/11944577_11",
        "10.1007/11944577_18",
        "10.1007/11944577_3",
        "10.1007/11944577_2",
        "10.1007/11944577_20",
        "10.1007/11944577_5",
        "10.1007/11944577_4",
        "10.1007/11944577_6",
        "10.1007/11944577_1",
        "10.1007/11944577_9",
        "10.1007/11944577_7",
        "10.1007/11944577_12",
        "10.1007/11944577_10",
        "10.1007/11944577_8",
        "10.1007/11944577_13",
        "10.1007/11944577_15",
        "10.1007/11944577_16",
        "10.1007/11944577_14",
        "10.1007/11944577_17",
        "10.1007/11944577_19",
        "10.1007/11944577_11",
        "10.1007/11944577_18",
        "10.1007/11944577_2",
        "10.1007/11944577_5",
        "10.1007/11944577_3",
        "10.1007/11944577_20",
        "10.1007/11944577_4",
        "10.1007/11944577_1",
        "10.1007/11944577_12",
        "10.1007/11944577_7",
        "10.1007/11944577_9",
        "10.1007/11944577_10",
        "10.1007/11944577_6",
        "10.1007/11944577_8",
        "10.1007/11944577_13",
        "10.1007/11944577_15",
        "10.1007/11944577_16",
        "10.1007/11944577_17",
        "10.1007/11944577_19",
        "10.1007/11944577_14",
        "10.1007/11944577_21",
        "10.1007/11944577_29",
        "10.1007/11944577_30",
        "10.1007/11944577_28",
        "10.1007/11944577_37",
        "10.1007/11944577_34",
        "10.1007/11944577_23",
        "10.1007/11944577_24",
        "10.1007/11944577_25",
        "10.1007/11944577_27",
        "10.1007/11944577_22",
        "10.1007/11944577_26",
        "10.1007/11944577_32",
        "10.1007/11944577_33",
        "10.1007/11944577_35",
        "10.1007/11944577_36",
        "10.1007/11944577_31",
    };
    
    public static final String VENUE = "TIDSE";

    public static void main(String[] args) throws IOException, InterruptedException {
        // Initialize logger
        Logger mLogger = new Logger("logTIDSE", true);

        // Initialize self-wrapped mongocollection
        MyMongoCollection<Paper> mPapersCollection = new MyMongoCollection<Paper>(Globals.MONGODB_PAPERS_COLLECTION);

        MetaDataFactory mMetaDataFactory = new MetaDataFactory();

        for (String doi : dois) {
            try {
                Website mWebsite = mMetaDataFactory.getWebsite("io.metadata.Springer", doi);

                mLogger.appendLines(doi, mWebsite.getTitle(), mWebsite.getAbstract(), mWebsite.getKeywords(), mWebsite.getAuthors(),
                        mWebsite.getYear(), "");

                Paper mPaper = new Paper().setTitle(mWebsite.getTitle()).setAbstraction(mWebsite.getAbstract())
                        .setKeywords(mWebsite.getKeywords()).setAuthors(mWebsite.getAuthors()).setYear(mWebsite.getYear()).setVenue(VENUE)
                        .setVenueType(Globals.VENUE_TYPE_CONFERENCE);

                if (mPaper.validate()) {
                    mPapersCollection.insert(mPaper);
                } else {
                    mLogger.appendErrMsg(mWebsite.getArticleURL());
                }

            } catch (Exception e) {
                // Catch any exception
                mLogger.appendErrMsg(e.getMessage());
            }

            // Anti-robotics
            Thread.sleep((long) (Math.random() * 60000));
            System.out.println();
        }

    }
}

